(function(f,d){var j;var b=document.createElement("fakeelement");var i={"OTransition":"oTransitionEnd","MozTransition":"transitionend","WebkitTransition":"webkitTransitionEnd","MsTransition":"msTransitionEnd","transition":"transitionend"};var e={"WebkitAnimation":"webkitAnimationEnd","OAnimation":"oTransitionEnd","MozTransition":"AnimationEnd","animation":"AnimationEnd"};var a,c;function g(){for(j in e){if(b.style[j]!==d){a=e[j];return true}}}function h(){for(j in i){if(b.style[j]!==d){c=i[j];return true}}}g();h();f.fn.cssAnimationEnd=function(l,k){return this.each(function(){var n=f(this);var m=k||false;n.addClass("testAni");n.on(a,function(o){if(!m){n.off(a)}if(n.hasClass("testAni")&&this==o.target&&f.isFunction(l)){n.removeClass("testAni");return l.call(this,o)}})})};f.fn.cssTransitionEnd=function(l,k){return this.each(function(){var n=f(this);var m=k||false;n.addClass("testAni");n.on(c,function(o){if(!m){n.off(c)}if(n.hasClass("testAni")&&this==o.target&&f.isFunction(l)){n.removeClass("testAni");return l.call(this,o)}})})}})(jQuery);